query products(
  $storeId: String!
  $userId: String!
  $currencyCode: String
  $cultureName: String
  $filter: String
  $after: String
  $first: Int
  $sort: String
  $query: String
  $fuzzy: Boolean
  $fuzzyLevel: Int
  $productIds: [String]
  $withFacets: Boolean!
  $withPagination: Boolean!
  $withImages: Boolean!
  $isList: Boolean!
  $withInventory: Boolean!
) {
  products(
    storeId: $storeId
    userId: $userId
    currencyCode: $currencyCode
    cultureName: $cultureName
    filter: $filter
    after: $after
    first: $first
    sort: $sort
    query: $query
    fuzzy: $fuzzy
    fuzzyLevel: $fuzzyLevel
    productIds: $productIds
  ) {
    totalCount
    items {
      ...productFields
    }
    pageInfo @include(if: $withPagination) {
      ...paginationFields
    }
    term_facets @include(if: $withFacets) {
      name
      label
      terms {
        term
        label
        count
        isSelected
      }
    }
    range_facets @include(if: $withFacets) {
      name
      label
      ranges {
        label
        count
        from
        to
        isSelected
      }
    }
  }
}
